---
title: DevOps-mönstret i Azure Stack Hub
description: Lär dig mer om DevOps-mönstret så att du kan garantera konsekvens mellan distributioner i Azure och Azure Stack hubben.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: 306cc9604a8e919724f9f76b7e5122d534d2d1ae
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 06/17/2020
ms.locfileid: "84911958"
---
# <a name="devops-pattern"></a><span data-ttu-id="9b0a8-103">DevOps-mönster</span><span class="sxs-lookup"><span data-stu-id="9b0a8-103">DevOps pattern</span></span>

<span data-ttu-id="9b0a8-104">Kod från en enda plats och distribuera till flera mål i utvecklings-, test-och produktions miljöer som kan finnas i ditt lokala data Center, privata moln eller i det offentliga molnet.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-104">Code from a single location and deploy to multiple targets in development, test, and production environments that may be in your local datacenter, private clouds, or the public cloud.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="9b0a8-105">Kontext och problem</span><span class="sxs-lookup"><span data-stu-id="9b0a8-105">Context and problem</span></span>

<span data-ttu-id="9b0a8-106">Kontinuitet, säkerhet och tillförlitlighet för program distribution är avgörande för organisationer och viktiga för utvecklings team.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-106">Application deployment continuity, security, and reliability are essential to organizations and critical to development teams.</span></span>

<span data-ttu-id="9b0a8-107">Appar kräver ofta omstrukturerad kod för att köras i varje mål miljö.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-107">Apps often require refactored code to run in each target environment.</span></span> <span data-ttu-id="9b0a8-108">Det innebär att en app inte är helt portabel.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-108">This means that an app isn't completely portable.</span></span> <span data-ttu-id="9b0a8-109">Det måste uppdateras, testas och verifieras när det flyttas genom varje miljö.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-109">It must be updated, tested, and validated as it moves through each environment.</span></span> <span data-ttu-id="9b0a8-110">Till exempel måste kod som skrivits i en utvecklings miljö skrivas om för att fungera i en test miljö och skrivas om när den slutligen hamnar i en produktions miljö.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-110">For example, code written in a development environment must then be rewritten to work in a test environment and rewritten when it finally lands in a production environment.</span></span> <span data-ttu-id="9b0a8-111">Dessutom är den här koden särskilt knuten till värden.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-111">Furthermore, this code is specifically tied to the host.</span></span> <span data-ttu-id="9b0a8-112">Detta ökar kostnaden och komplexiteten med att underhålla din app.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-112">This increases the cost and complexity of maintaining your app.</span></span> <span data-ttu-id="9b0a8-113">Varje version av appen är kopplad till varje miljö.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-113">Each version of the app is tied to each environment.</span></span> <span data-ttu-id="9b0a8-114">Ökad komplexitet och duplicering ökar risken för säkerhet och kod kvalitet.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-114">The increased complexity and duplication increase the risk of security and code quality.</span></span> <span data-ttu-id="9b0a8-115">Dessutom kan inte koden distribueras på ett enkelt sätt när du tar bort återställnings misslyckade värdar eller distribuerar ytterligare värdar för att hantera ökningar i efter frågan.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-115">In addition, the code can't be readily redeployed when you remove restore failed hosts or deploy additional hosts to handle increases in demand.</span></span>

## <a name="solution"></a><span data-ttu-id="9b0a8-116">Lösning</span><span class="sxs-lookup"><span data-stu-id="9b0a8-116">Solution</span></span>

<span data-ttu-id="9b0a8-117">Med DevOps-mönstret kan du bygga, testa och distribuera en app som körs på flera moln.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-117">The DevOps Pattern enables you to build, test, and deploy an app that runs on multiple clouds.</span></span> <span data-ttu-id="9b0a8-118">Det här mönstret enhets praxis för kontinuerlig integrering och kontinuerlig leverans.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-118">This pattern unites the practice of continuous integration and continuous delivery.</span></span> <span data-ttu-id="9b0a8-119">Med kontinuerlig integrering skapas och testas kod varje gång en grupp medlem genomför en ändring i versions kontrollen.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-119">With continuous integration, code is built and tested every time a team member commits a change to version control.</span></span> <span data-ttu-id="9b0a8-120">Kontinuerlig leverans automatiserar varje steg från en version till en produktions miljö.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-120">Continuous delivery automates each step from a build to a production environment.</span></span> <span data-ttu-id="9b0a8-121">Tillsammans skapar de här processerna en versions process som stöder distribution i olika miljöer.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-121">Together, these processes create a release process that supports deployment across diverse environments.</span></span> <span data-ttu-id="9b0a8-122">Med det här mönstret kan du utkast till din kod och sedan distribuera samma kod till en lokal miljö, olika privata moln och offentliga moln.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-122">With this pattern, you can draft your code and then deploy the same code to a premise environment, different private clouds, and the public clouds.</span></span> <span data-ttu-id="9b0a8-123">Skillnader i miljön kräver en ändring i en konfigurations fil i stället för ändringar i koden.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-123">Differences in environment require a change to a configuration file rather than changes to the code.</span></span>

![DevOps-mönster](media/pattern-cicd-pipeline/hybrid-ci-cd.png)

<span data-ttu-id="9b0a8-125">Med en enhetlig uppsättning utvecklingsverktyg i lokala, privata moln och i offentliga moln miljöer kan du implementera en metod för kontinuerlig integrering och kontinuerlig leverans.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-125">With a consistent set of development tools across on-premises, private cloud, and public cloud environments, you can implement a practice of continuous integration and continuous delivery.</span></span> <span data-ttu-id="9b0a8-126">Appar och tjänster som distribueras med DevOps-mönstret är utbytbara och kan köras på någon av dessa platser, vilket drar nytta av funktioner och funktioner i lokala och offentliga moln.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-126">Apps and services deployed using the DevOps Pattern are interchangeable and can run in any of these locations, taking advantage of on-premises and public cloud features and capabilities.</span></span>

<span data-ttu-id="9b0a8-127">Genom att använda en DevOps release-pipeline kan du:</span><span class="sxs-lookup"><span data-stu-id="9b0a8-127">Using a DevOps release pipeline helps you:</span></span>

- <span data-ttu-id="9b0a8-128">Starta en ny version baserat på kod skrivningar till en enda lagrings plats.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-128">Initiate a new build based on code commits to a single repository.</span></span>
- <span data-ttu-id="9b0a8-129">Distribuera automatiskt den nyskapade koden till det offentliga molnet för testning av användar godkännande.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-129">Automatically deploy your newly built code to the public cloud for user acceptance testing.</span></span>
- <span data-ttu-id="9b0a8-130">Distribuera automatiskt till ett privat moln när din kod har klarat testet.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-130">Automatically deploy to a private cloud once your code has passed testing.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="9b0a8-131">Problem och överväganden</span><span class="sxs-lookup"><span data-stu-id="9b0a8-131">Issues and considerations</span></span>

<span data-ttu-id="9b0a8-132">DevOps-mönstret är avsett att garantera konsekvens mellan distributioner oavsett mål miljö.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-132">The DevOps Pattern is intended to ensure consistency across deployments regardless of the target environment.</span></span> <span data-ttu-id="9b0a8-133">Funktionerna varierar dock mellan moln miljöer och lokala miljöer.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-133">However, capabilities vary across cloud and on-premises environments.</span></span> <span data-ttu-id="9b0a8-134">Tänk på följande:</span><span class="sxs-lookup"><span data-stu-id="9b0a8-134">Consider the following points:</span></span>

- <span data-ttu-id="9b0a8-135">Finns det funktioner, slut punkter, tjänster och andra resurser i distributionen som är tillgängliga på mål distributions platserna?</span><span class="sxs-lookup"><span data-stu-id="9b0a8-135">Are the functions, endpoints, services, and other resources in your deployment available in the target deployment locations?</span></span>
- <span data-ttu-id="9b0a8-136">Lagras konfigurations artefakter på platser som är tillgängliga i molnet?</span><span class="sxs-lookup"><span data-stu-id="9b0a8-136">Are configuration artifacts stored in locations that are accessible across clouds?</span></span>
- <span data-ttu-id="9b0a8-137">Kommer distributions parametrar att fungera i alla mål miljöer?</span><span class="sxs-lookup"><span data-stu-id="9b0a8-137">Will deployment parameters work in all the target environments?</span></span>
- <span data-ttu-id="9b0a8-138">Är resurs specifika egenskaper tillgängliga i alla mål moln?</span><span class="sxs-lookup"><span data-stu-id="9b0a8-138">Are resource-specific properties available in all target clouds?</span></span>

<span data-ttu-id="9b0a8-139">Mer information finns i [utveckla Azure Resource Manager mallar för moln konsekvens](https://docs.microsoft.com/azure/azure-resource-manager/templates-cloud-consistency).</span><span class="sxs-lookup"><span data-stu-id="9b0a8-139">For more information, see [Develop Azure Resource Manager templates for cloud consistency](https://docs.microsoft.com/azure/azure-resource-manager/templates-cloud-consistency).</span></span>

<span data-ttu-id="9b0a8-140">Tänk också på följande när du bestämmer hur du ska implementera det här mönstret:</span><span class="sxs-lookup"><span data-stu-id="9b0a8-140">In addition, consider the following points when deciding how to implement this pattern:</span></span>

### <a name="scalability"></a><span data-ttu-id="9b0a8-141">Skalbarhet</span><span class="sxs-lookup"><span data-stu-id="9b0a8-141">Scalability</span></span>

<span data-ttu-id="9b0a8-142">Distributions Automation system är nyckel kontroll punkten i DevOps-mönstren.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-142">Deployment automation systems are the key control point in the DevOps Patterns.</span></span> <span data-ttu-id="9b0a8-143">Implementeringar kan variera.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-143">Implementations can vary.</span></span> <span data-ttu-id="9b0a8-144">Valet av rätt server storlek beror på storleken på den förväntade arbets belastningen.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-144">The selection of the correct server size depends on the size of the expected workload.</span></span> <span data-ttu-id="9b0a8-145">VM kostar mer att skala än behållare.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-145">VMs cost more to scale than containers.</span></span> <span data-ttu-id="9b0a8-146">Men om du vill använda containrar för skalning måste byggprocessen köras med containrar.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-146">To use containers for scaling, however, your build process must run with containers.</span></span>

### <a name="availability"></a><span data-ttu-id="9b0a8-147">Tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="9b0a8-147">Availability</span></span>

<span data-ttu-id="9b0a8-148">Tillgängligheten i DevPattern innebär att kunna återställa all statusinformation som är kopplad till ditt arbets flöde, till exempel test resultat, kod beroenden eller andra artefakter.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-148">Availability in the context of the DevPattern means being able to recover any state information associated with your workflow, such as test results, code dependencies, or other artifacts.</span></span> <span data-ttu-id="9b0a8-149">Överväg två vanliga mått vid utvärdering av tillgänglighetskraven:</span><span class="sxs-lookup"><span data-stu-id="9b0a8-149">To assess your availability requirements, consider two common metrics:</span></span>

- <span data-ttu-id="9b0a8-150">Mål för återställnings tid (RTO) anger hur länge du kan gå utan system.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-150">Recovery Time Objective (RTO) specifies how long you can go without a system.</span></span>

- <span data-ttu-id="9b0a8-151">Återställnings punkt mål (återställnings punkt mål) anger hur mycket data du kan få att förlora om ett avbrott i tjänsten påverkar systemet.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-151">Recovery Point Objective (RPO) indicates how much data you can afford to lose if a disruption in service affects the system.</span></span>

<span data-ttu-id="9b0a8-152">I praktiken, RTO och återställnings punkt innebär redundans och säkerhets kopiering.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-152">In practice, RTO, and RPO imply redundancy and backup.</span></span> <span data-ttu-id="9b0a8-153">I det globala Azure-molnet är tillgängligheten inte en fråga om maskin varu återställning – det är en del av Azure, men du kan i stället se till att du behåller tillstånd för dina DevOps-system.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-153">On the global Azure cloud, availability isn't a question of hardware recovery—that's part of Azure—but rather ensuring you maintain the state of your DevOps systems.</span></span> <span data-ttu-id="9b0a8-154">På Azure Stack hubb kan maskin varu återställning vara ett övervägande.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-154">On Azure Stack Hub, hardware recovery may be a consideration.</span></span>

<span data-ttu-id="9b0a8-155">En annan viktig hänsyn när du utformar systemet som används för distributions automatisering är åtkomst kontroll och korrekt hantering av de rättigheter som krävs för att distribuera tjänster till moln miljöer.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-155">Another major consideration when designing the system used for deployment automation is access control and the proper management of the rights needed to deploy services to cloud environments.</span></span> <span data-ttu-id="9b0a8-156">Vilka rättigheter behövs för att skapa, ta bort eller ändra distributioner?</span><span class="sxs-lookup"><span data-stu-id="9b0a8-156">What rights are needed to create, delete, or modify deployments?</span></span> <span data-ttu-id="9b0a8-157">Till exempel krävs det vanligt vis en uppsättning rättigheter för att skapa en resurs grupp i Azure och en annan för att distribuera tjänster i resurs gruppen.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-157">For example, one set of rights is typically required to create a resource group in Azure and another to deploy services in the resource group.</span></span>

### <a name="manageability"></a><span data-ttu-id="9b0a8-158">Hanterbarhet</span><span class="sxs-lookup"><span data-stu-id="9b0a8-158">Manageability</span></span>

<span data-ttu-id="9b0a8-159">Utformningen av alla system som baseras på DevOps-mönstret måste överväga automatisering, loggning och aviseringar för varje tjänst i portföljen.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-159">The design of any system based on the DevOps pattern must consider automation, logging, and alerting for each service across the portfolio.</span></span> <span data-ttu-id="9b0a8-160">Använd delade tjänster, ett program team eller både och och spåra även säkerhets principer och styrning.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-160">Use shared services, an application team, or both, and track security policies and governance as well.</span></span>

<span data-ttu-id="9b0a8-161">Distribuera produktions miljöer och utvecklings-och test miljöer i separata resurs grupper i Azure eller Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-161">Deploy production environments and development/test environments in separate resource groups on Azure or Azure Stack Hub.</span></span> <span data-ttu-id="9b0a8-162">Sedan kan du övervaka varje Miljös resurser och summera fakturerings kostnaderna per resurs grupp.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-162">Then you can monitor each environment's resources and roll up billing costs by resource group.</span></span> <span data-ttu-id="9b0a8-163">Du kan också ta bort resurser som en uppsättning, vilket är användbart för test distributioner.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-163">You can also delete resources as a set, which is useful for test deployments.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="9b0a8-164">När du ska använda det här mönstret</span><span class="sxs-lookup"><span data-stu-id="9b0a8-164">When to use this pattern</span></span>

<span data-ttu-id="9b0a8-165">Använd det här mönstret om:</span><span class="sxs-lookup"><span data-stu-id="9b0a8-165">Use this pattern if:</span></span>

- <span data-ttu-id="9b0a8-166">Du kan utveckla kod i en miljö som uppfyller behoven hos dina utvecklare och distribuera till en miljö som är speciell för din lösning, där det kan vara svårt att utveckla ny kod.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-166">You can develop code in one environment that meets the needs of your developers, and deploy to an environment specific to your solution where it may be difficult to develop new code.</span></span>
- <span data-ttu-id="9b0a8-167">Du kan använda kod och verktyg som dina utvecklare vill, så länge de kan följa den kontinuerliga integreringen och den kontinuerliga leverans processen i DevOps-mönstret.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-167">You can use the code and tools your developers would like, as long as they're able to follow the continuous integration and continuous delivery process in the DevOps Pattern.</span></span>

<span data-ttu-id="9b0a8-168">Det här mönstret rekommenderas inte:</span><span class="sxs-lookup"><span data-stu-id="9b0a8-168">This pattern isn't recommended:</span></span>

- <span data-ttu-id="9b0a8-169">Om du inte kan automatisera infrastruktur, etablering av resurser, konfiguration, identitet och säkerhets uppgifter.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-169">If you can't automate infrastructure, provisioning resources, configuration, identity, and security tasks.</span></span>
- <span data-ttu-id="9b0a8-170">Om team inte har åtkomst till hybrid moln resurser för att implementera en metod för kontinuerlig integrering/kontinuerlig utveckling (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="9b0a8-170">If teams don't have access to hybrid cloud resources to implement a Continuous Integration/Continuous Development (CI/CD) approach.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9b0a8-171">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="9b0a8-171">Next steps</span></span>

<span data-ttu-id="9b0a8-172">Mer information om ämnen som introduceras i den här artikeln:</span><span class="sxs-lookup"><span data-stu-id="9b0a8-172">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="9b0a8-173">I [dokumentationen för Azure DevOps](/azure/devops) finns mer information om Azure DevOps och relaterade verktyg, inklusive Azure databaser och Azure-pipelines.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-173">See the [Azure DevOps documentation](/azure/devops) to learn more about Azure DevOps and related tools, including Azure Repos, and Azure Pipelines.</span></span>
- <span data-ttu-id="9b0a8-174">Se [Azure Stacks familj med produkter och lösningar](/azure-stack) för att lära dig mer om hela portföljen med produkter och lösningar.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-174">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="9b0a8-175">När du är redo att testa lösnings exemplet fortsätter du med [distributions guiden för DevOps hybrid CI/CD-lösning](https://aka.ms/hybriddevopsdeploy).</span><span class="sxs-lookup"><span data-stu-id="9b0a8-175">When you're ready to test the solution example, continue with the [DevOps hybrid CI/CD solution deployment guide](https://aka.ms/hybriddevopsdeploy).</span></span> <span data-ttu-id="9b0a8-176">Distributions guiden innehåller steg-för-steg-instruktioner för att distribuera och testa dess komponenter.</span><span class="sxs-lookup"><span data-stu-id="9b0a8-176">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span> <span data-ttu-id="9b0a8-177">Du lär dig hur du distribuerar en app till Azure och Azure Stack hubb med en pipeline för Hybrid kontinuerlig integrering/kontinuerlig leverans (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="9b0a8-177">You learn how to deploy an app to Azure and Azure Stack Hub using a hybrid continuous integration/continuous delivery (CI/CD) pipeline.</span></span>
